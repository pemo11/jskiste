<!-- Rechenkopf V2 - die zweite Version ohne "krumme Zahlen" bei einer Division -->

<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="utf-8">
        <title>Rechnen-Kopf V2</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="styles.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <h2>Rechnen-Kopf V2</h2>
        <div class="container">
            <table>
                <tr>
                    <td></td><td></td><td></td><td></td><td></td>
                </tr>
                <tr>
                    <td><input type="button" id="btnAufgabe" value="Aufgabe"></td>
                    <td><input type="button" id="btnErgebnis" value="Ergebnis"></td>
                </tr>
            </table>
        </div>
        <script>

            window.addEventListener("load", (event) => {
                // Event-Handler einrichten
                var btnAufgabe = document.querySelector("#btnAufgabe")
                btnAufgabe.addEventListener("click", (event) => {
                    let elTable = document.querySelector("table")
                    // Neu: val1 und val2 mÃ¼ssen glatt teilbar sein
                    let val1 = 0
                    let val2 = 0
                    do {
                        val1 = Math.floor(Math.random() * 20) + 10
                        val2 = Math.floor(Math.random() * 10) + 1

                    } while (val1 % val2 != 0)
                    let op = ["+", "-", ":", "*"][Math.floor(Math.random() * 4)]
                    elTable.rows[0].cells[0].innerText = val1
                    elTable.rows[0].cells[1].innerText = op
                    elTable.rows[0].cells[2].innerText = val2
                    elTable.rows[0].cells[3].innerText = "="
                    elTable.rows[0].cells[4].innerText = "?"
                })

                var btnErgebnis = document.querySelector("#btnErgebnis")
                btnErgebnis.addEventListener("click", (event) => {
                    let elTable = document.querySelector("table")
                    let val1 = elTable.rows[0].cells[0].innerText
                    let val2 = elTable.rows[0].cells[2].innerText
                    let ergebnis = 0
                    switch(elTable.rows[0].cells[1].innerText)
                    {
                        case "+": {
                            // parseInt ist optional
                            ergebnis = parseInt(val1) + parseInt(val2)
                            break
                        }
                        case "-": {
                            // Number als Alternative zu parseInt ist ebenfalls optional
                            ergebnis = Number(val1) - Number(val2)
                            break
                        }
                        case ":": {
                            ergebnis = val1 / val2
                            break
                        }
                        case "*": {
                            ergebnis = val1 * val2
                            break
                        }
                    }
                    elTable.rows[0].cells[4].innerText = ergebnis

                });
            });

        </script>

        <h6>Remembering an important person</h6>
    </body>
</html> 
