<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="utf-8">
        <title>Traffic Light V2</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="styles.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <h3>Traffic Light V2</h3>

        <canvas
            id="drawCanvas"
            width="200"
            height="300"
        >   
        </canvas>
        <input type="button" id="bnStart" value="Start" >

        <script>

            const sleep = (ms) => {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            const drawCircle = (xPos, yPos, fillColor) => {
                var elCanvas = document.querySelector("#drawCanvas")
                var context = elCanvas.getContext("2d")
                context.beginPath()
                const radius = 30
                context.arc(xPos, yPos, radius, 0, 2 * Math.PI, false)
                context.fillStyle = fillColor
                context.fill()
                context.linewidth = 1
                context.strokeStyle = "#00300"
                context.stroke()
            }

            window.addEventListener("load", (event) => {

                var elStart = document.querySelector("#bnStart")

                elStart.addEventListener("click", async (event) => {
                    // 1. Grün-Phase
                    drawCircle(50, 50, "white")
                    drawCircle(50, 150, "white")
                    drawCircle(50, 250, "green")
                    elStart.disabled = true
                    await sleep(1000)

                    // 2. Phase Gelb
                    drawCircle(50, 50, "white")
                    drawCircle(50, 150, "yellow")
                    drawCircle(50, 250, "white")
                    await sleep(1000)

                    // 3. Phase Rot
                    drawCircle(50, 50, "red")
                    drawCircle(50, 150, "white")
                    drawCircle(50, 250, "white")
                    await sleep(2500)

                    // 4. Phase Rot Gelb
                    drawCircle(50, 50, "red")
                    drawCircle(50, 150, "yellow")
                    drawCircle(50, 250, "white")
                    await sleep(1500)

                    // 5. Phase Grün
                    drawCircle(50, 50, "white")
                    drawCircle(50, 150, "white")
                    drawCircle(50, 250, "green")
                    elStart.disabled = false
                })
            })
 
        </script>

        <h6>Remembering an important person</h6>
    </body>
</html> 
